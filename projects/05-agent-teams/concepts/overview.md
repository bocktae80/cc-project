# Agent Teams 개념 이해 ⭐⭐

> 여러 AI 에이전트가 **팀**을 이루어 함께 일하는 기능을 알아봅시다!

---

## 비유: 학교 모둠 활동

Agent Teams는 **학교 모둠 활동**과 비슷합니다.

```
🏫 학교 모둠 활동                    🤖 Agent Teams
─────────────────                  ─────────────────
모둠장 (지시/조율)         ←→       팀 리더 (team-lead)
모둠원 (각자 역할)         ←→       에이전트 (teammates)
할일판 (누가 뭘 하는지)    ←→       태스크 보드 (Task Board)
메모 전달 (소통)           ←→       메시지 (SendMessage)
```

모둠장이 "너는 자료 조사, 너는 발표 자료 만들어"라고 나누듯,
팀 리더가 에이전트들에게 작업을 나눠주고, 서로 메시지로 소통합니다.

---

## 4가지 핵심 구성요소

### 1. 팀 (Team)

프로젝트 단위의 그룹입니다. 하나의 목표를 위해 모인 에이전트들의 모임이에요.

- **생성 방법**: 클로드 코드에서 "팀을 만들어줘"라고 요청
- **저장 위치**: `~/.claude/teams/{팀이름}/config.json`
- 팀에는 **리더** 1명과 **팀원** 여러 명이 있습니다

```
팀 = 리더(1명) + 팀원(여러 명)
      │              │
      ├─ 작업 분배    ├─ 각자 역할 수행
      ├─ 진행 관리    ├─ 결과 보고
      └─ 최종 조율    └─ 서로 소통
```

### 2. 에이전트 (Agent)

팀의 구성원, 즉 **팀원**입니다. 각자 고유한 역할과 도구를 가지고 있어요.

| 에이전트 종류 | 역할 | 비유 |
|--------------|------|------|
| **general-purpose** | 범용 작업 (코딩, 분석 등) | 만능 모둠원 |
| **Explore** | 코드베이스 탐색, 검색 | 자료 조사 담당 |
| **Plan** | 계획 수립, 설계 | 기획 담당 |
| **Bash** | 터미널 명령 실행 | 실행 담당 |

에이전트는 `Task` 도구로 생성(스폰)됩니다. 각 에이전트는 독립적인 컨텍스트 창을 가지고 있어서, 동시에 여러 작업을 병렬로 처리할 수 있습니다.

### 3. 태스크 보드 (Task Board)

팀 전체가 공유하는 **할 일 목록**입니다.

```
태스크 보드 예시:
┌─────────────────────────────────────────────────┐
│  # │ 할 일              │ 상태        │ 담당자    │
│────│────────────────────│─────────────│──────────│
│  1 │ API 설계           │ completed   │ planner  │
│  2 │ 백엔드 구현         │ in_progress │ backend  │
│  3 │ 프론트엔드 구현     │ pending     │ frontend │
│  4 │ 테스트 작성         │ pending     │ (없음)   │
└─────────────────────────────────────────────────┘
```

**주요 기능:**
- `TaskCreate` — 새 할 일 추가
- `TaskList` — 전체 목록 조회
- `TaskUpdate` — 상태 변경, 담당자 지정
- `TaskGet` — 특정 할 일 상세 조회

**의존성(blockedBy)** 도 지원합니다:
> "태스크 #3은 #1이 끝나야 시작할 수 있어" → `blockedBy: ["1"]`

### 4. 메시지 (Message)

에이전트끼리 **소통**하는 수단입니다. `SendMessage` 도구를 사용해요.

| 메시지 종류 | 설명 | 비유 |
|------------|------|------|
| **message** (DM) | 특정 팀원에게 1:1 메시지 | 쪽지 전달 |
| **broadcast** | 모든 팀원에게 동시 전달 | 교실 방송 |
| **shutdown_request** | 팀원에게 종료 요청 | "이제 쉬어도 돼" |
| **shutdown_response** | 종료 요청에 답변 | "네, 끝났어요" / "아직이요" |

---

## 언제 사용하나요?

### 사용하면 좋은 경우

- **복잡한 프로젝트**: 프론트엔드 + 백엔드를 동시에 개발할 때
- **리서치 + 구현 병렬**: 한 에이전트는 조사하고, 다른 에이전트는 코딩할 때
- **대규모 리팩토링**: 여러 파일을 동시에 수정해야 할 때
- **역할 분담이 명확한 작업**: 설계자, 구현자, 테스터가 나뉘는 경우

### 사용하지 않아도 되는 경우

- **단순한 작업**: 파일 1-2개 수정, 간단한 버그 수정
- **순차적 작업**: 앞 단계가 끝나야 다음을 할 수 있는 경우
- **짧은 질문/답변**: 코드 설명, 개념 질문 등

---

## 한눈에 보기

```
┌─────────────────────────────────────────┐
│              Agent Teams                │
│                                         │
│   팀 리더 (team-lead)                    │
│      │                                  │
│      ├── 에이전트 A (frontend)           │
│      │     └─ 태스크 #3 작업 중          │
│      │                                  │
│      ├── 에이전트 B (backend)            │
│      │     └─ 태스크 #2 작업 중          │
│      │                                  │
│      └── 에이전트 C (tester)             │
│            └─ 태스크 #4 대기 중          │
│                                         │
│   ┌─────────────────────────────┐       │
│   │ 태스크 보드 (공유)            │       │
│   │ - 모두가 볼 수 있음           │       │
│   │ - 상태/담당자 실시간 업데이트  │       │
│   └─────────────────────────────┘       │
│                                         │
│   메시지: DM / broadcast / shutdown     │
└─────────────────────────────────────────┘
```

---

## 다음으로 읽기

- [Task(서브에이전트) vs Agent Teams 비교](vs-subagent.md) — 언제 뭘 쓸지 고민된다면
- [Agent Teams 내부 구조](architecture.md) — 파일 구조와 생명주기가 궁금하다면
