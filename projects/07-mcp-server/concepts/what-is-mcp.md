# MCP란 무엇인가? 🔌

> USB 허브 하나로 마우스, 키보드, 프린터를 다 쓸 수 있는 것처럼!

---

## USB 허브 비유 🔌

노트북에 USB 포트가 하나뿐이라고 상상해보세요.

마우스를 쓰려면 키보드를 빼야 하고, 키보드를 쓰려면 외장하드를 빼야 해요.
**너무 불편하죠?**

그래서 **USB 허브**를 씁니다! 하나의 포트에 허브를 꽂으면, 여러 장치를 **동시에** 연결할 수 있어요.

```
❌ USB 허브 없이                    ✅ USB 허브 있으면
──────────────                    ──────────────
노트북 ─── 마우스만                노트북 ─── USB 허브
(키보드? 빼야 함...)                         ├── 마우스
                                             ├── 키보드
                                             ├── 외장하드
                                             └── 프린터
```

**MCP도 마찬가지예요!**

```
❌ MCP 없이                        ✅ MCP 있으면
──────────────                    ──────────────
클로드 ─── 기본 도구만             클로드 ─── MCP 프로토콜
(파일 읽기? 안 됨...)                        ├── 파일시스템 서버
                                             ├── GitHub 서버
                                             ├── Slack 서버
                                             └── 내가 만든 서버!
```

---

## MCP의 정체 📱

**MCP** = **M**odel **C**ontext **P**rotocol

한국어로 하면 "모델 컨텍스트 프로토콜"인데, 쉽게 말하면:

> **클로드(AI 모델)가 외부 도구와 대화하는 약속(프로토콜)**

프로토콜이란 "서로 이야기하는 규칙"이에요. 우리가 전화할 때 "여보세요?" → "네, 안녕하세요" 하는 것처럼, 클로드와 MCP 서버도 정해진 규칙대로 대화합니다.

---

## 서버 vs 클라이언트 🏪

| 역할 | 누가? | 하는 일 | 비유 |
|------|-------|---------|------|
| **클라이언트** | 클로드 (Claude Code) | 기능을 **요청**하는 쪽 | 손님 🧑 |
| **서버** | MCP 서버 프로그램 | 기능을 **제공**하는 쪽 | 가게 주인 🏪 |

```
🧑 손님 (클라이언트=클로드)        🏪 가게 (서버=MCP 서버)
──────────────                    ──────────────
"이 파일 읽어주세요"      →→→      파일시스템 서버
                          ←←←      "파일 내용은 이거예요"

"GitHub 이슈 보여줘"      →→→      GitHub 서버
                          ←←←      "이슈 3개 있어요"

"현재 시간 알려줘"        →→→      커스텀 시간 서버
                          ←←←      "오후 2시 30분이에요"
```

---

## 통신 방식: stdin/stdout (파이프) 🔧

MCP 서버와 클로드는 어떻게 이야기할까요?

**파이프(pipe)**를 통해 이야기합니다! 터미널에서 `|` (파이프) 써본 적 있나요?

```bash
# 이것이 파이프! 왼쪽 출력 → 오른쪽 입력
echo "hello" | cat
```

MCP도 비슷해요:

```
클로드 ──stdin──→ MCP 서버    (클로드가 서버에게 보내는 메시지)
클로드 ←─stdout── MCP 서버    (서버가 클로드에게 보내는 응답)
```

- **stdin** = Standard Input (표준 입력) = "귀" 👂
- **stdout** = Standard Output (표준 출력) = "입" 👄

클로드가 서버의 "귀"(stdin)에 요청을 보내면, 서버가 "입"(stdout)으로 결과를 말해주는 거예요.

---

## 설정은 어디에? ⚙️

MCP 서버 설정은 **`.claude/settings.json`** 파일에 저장됩니다.

```json
{
  "mcpServers": {
    "서버이름": {
      "command": "실행할 명령어",
      "args": ["인자1", "인자2"],
      "env": {
        "환경변수": "값"
      }
    }
  }
}
```

### 설정 위치 종류

| 위치 | 범위 | 파일 경로 |
|------|------|-----------|
| 프로젝트 설정 | 이 프로젝트에서만 | `.claude/settings.json` |
| 사용자 설정 | 내 컴퓨터 전체 | `~/.claude/settings.json` |

> 💡 **팁**: 프로젝트마다 다른 MCP 서버를 쓸 수 있어요!
> 웹 프로젝트에는 GitHub 서버를, 데이터 프로젝트에는 PostgreSQL 서버를 연결하는 식이죠.

---

## 핵심 정리 💡

```
✅ MCP = 클로드와 외부 도구를 연결하는 표준 프로토콜
✅ 서버 = 기능 제공자 (파일시스템, GitHub 등)
✅ 클라이언트 = 기능 사용자 (클로드)
✅ 통신 = stdin/stdout (파이프)
✅ 설정 = .claude/settings.json의 mcpServers
```
