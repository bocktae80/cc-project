# WebFetch 분석 ⭐⭐

> 특정 웹 페이지를 클로드에게 읽히고, 원하는 정보만 뽑아내자!

## WebFetch란?

**WebFetch**는 클로드 코드가 **특정 웹 페이지를 방문해서 내용을 읽는 것**입니다.

비유하면:
- WebSearch = 도서관에서 **책 목록** 찾아오기 📚
- WebFetch = 특정 책을 **직접 읽고 요약**해오기 📖

핵심 차이: WebFetch는 **URL을 이미 알고 있을 때** 사용합니다!

---

## 기본 사용법

### 가장 간단한 사용

클로드 코드에게 이렇게 말하면 됩니다:

```
사용자: https://docs.anthropic.com/en/docs/claude-code 이 페이지에서
       주요 기능 목록을 정리해줘
```

클로드가 내부적으로 WebFetch를 호출합니다:

```
WebFetch 호출:
  url: "https://docs.anthropic.com/en/docs/claude-code"
  prompt: "주요 기능 목록을 정리해줘"
```

---

## 파라미터 상세

### 1. `url` (필수) — 가져올 웹 주소

방문할 웹 페이지의 전체 주소입니다.

```
✅ 올바른 URL:
  "https://docs.anthropic.com/en/docs/claude-code"
  "https://github.com/anthropics/claude-code"

❌ 잘못된 URL:
  "anthropic.com"           ← https:// 빠짐
  "docs anthropic"          ← URL이 아님 (이건 검색어!)
```

### 2. `prompt` (필수) — 어떤 정보를 원하는지

이것이 WebFetch의 **핵심**입니다!

prompt는 **비서에게 내리는 구체적 지시**라고 생각하세요.

```
상사: "이 보고서 읽고 와"
비서: "...네? 뭘 봐야 하죠?"              ← 😵 모호한 지시

상사: "이 보고서에서 매출 추이와 핵심 결론만 정리해와"
비서: "네! 알겠습니다!"                    ← ✅ 구체적 지시
```

#### prompt 잘 쓰는 법

| 수준 | prompt 예시 | 결과 |
|------|------------|------|
| ❌ 나쁨 | `"내용"` | 뭘 원하는지 모름 → 대충 요약 |
| ⚠️ 보통 | `"요약해줘"` | 전체를 요약 → 원하는 정보가 없을 수 있음 |
| ✅ 좋음 | `"설치 방법과 시스템 요구사항을 정리해줘"` | 정확히 원하는 정보만! |
| ✅ 최고 | `"API 가격 정보를 표로 정리하고, 무료 티어가 있는지 확인해줘"` | 구조화된 답변! |

---

## 따라하기: 공개 문서 페이지 분석하기

### Step 1: 페이지 내용 가져오기

```
사용자: https://en.wikipedia.org/wiki/Markdown 이 페이지에서
       마크다운의 역사와 만든 사람에 대해 정리해줘
```

```
WebFetch 호출:
  url: "https://en.wikipedia.org/wiki/Markdown"
  prompt: "마크다운의 역사(언제 만들어졌는지)와 만든 사람에 대해 정리해줘"
```

### Step 2: 결과 확인

클로드가 페이지를 읽고 정리해줍니다:

```
마크다운(Markdown) 요약:

- 만든 사람: John Gruber (Aaron Swartz와 협력)
- 만든 시기: 2004년
- 목적: 읽기 쉬운 텍스트 포맷으로, HTML로 변환 가능
- ...
```

### Step 3: 추가 질문

같은 페이지에 대해 다른 질문을 할 수도 있습니다:

```
사용자: 같은 페이지에서 마크다운 문법 종류를 표로 정리해줘
```

> 💡 15분 이내라면 캐시된 내용을 사용하므로 더 빠릅니다!

---

## ⚠️ 실패하는 경우들

WebFetch가 **실패**하는 상황도 알아두세요!

### 1. 로그인 필요 사이트 ❌

```
사용자: https://docs.google.com/document/d/xxx 이 문서 읽어줘
```

```
❌ 결과: 로그인 페이지만 보임! 실제 문서 내용 접근 불가

이유: WebFetch는 로그인을 할 수 없습니다.
      Google Docs, Notion, Jira, Confluence 등은 모두 실패합니다.
```

> 💡 해결책: 해당 서비스의 MCP 서버를 연결하면 됩니다 (07번 프로젝트에서 배웁니다)

### 2. 너무 큰 페이지 ⚠️

```
사용자: https://example.com/very-long-api-docs 이 전체 API 문서를 분석해줘
```

```
⚠️ 결과: 내용이 잘릴 수 있음!

이유: 페이지가 너무 크면 내용이 요약/축소됩니다.
```

> 💡 해결책: prompt를 구체적으로 써서 필요한 부분만 요청하세요!

### 3. JavaScript로만 렌더링되는 페이지 ⚠️

일부 SPA(Single Page Application)는 JavaScript가 실행되어야 내용이 보입니다.
WebFetch는 HTML만 가져오므로, JS로 렌더링되는 내용은 못 볼 수 있습니다.

### 4. 리다이렉트되는 경우

```
사용자: https://short.url/abc 이 페이지 분석해줘
```

```
⚠️ 결과: "이 URL은 https://other-site.com/full-page 로 리다이렉트됩니다"

→ 리다이렉트된 URL로 다시 요청하면 됩니다!
```

---

## 실패 vs 성공 비교

| 상황 | 결과 | 이유 |
|------|------|------|
| 공식 문서 사이트 | ✅ 성공 | 공개 페이지 |
| GitHub 공개 저장소 | ✅ 성공 | 공개 페이지 |
| 위키피디아 | ✅ 성공 | 공개 페이지 |
| Google Docs | ❌ 실패 | 로그인 필요 |
| Notion 페이지 | ❌ 실패 | 로그인 필요 |
| Jira 이슈 | ❌ 실패 | 로그인 필요 |
| 유료 뉴스 | ⚠️ 부분 | 일부만 공개 |

---

## prompt 비교 실험

같은 URL에 대해 prompt를 바꿔보면 결과가 얼마나 다른지 확인해보세요:

### 실험 대상: 위키피디아 Python 문서

```
URL: https://en.wikipedia.org/wiki/Python_(programming_language)
```

| prompt | 예상 결과 |
|--------|----------|
| `"내용"` | 전체를 대충 요약 (쓸모 ↓) |
| `"요약해줘"` | 전체 요약 (너무 길 수 있음) |
| `"Python의 장단점을 표로 정리해줘"` | 깔끔한 비교표 (쓸모 ↑) |
| `"Python 3.x의 주요 버전별 변경사항을 정리해줘"` | 구조화된 버전 히스토리 (쓸모 ↑↑) |

---

## 핵심 정리

```
┌─────────────────────────────────────────────┐
│  📄 WebFetch 핵심                           │
│                                             │
│  1. url(주소) + prompt(질문) 두 개 다 필수!   │
│  2. prompt가 구체적일수록 결과가 좋다         │
│  3. 로그인 사이트는 접근 불가 ❌              │
│  4. 15분 캐시 → 같은 URL 반복 요청 시 빠름   │
│  5. HTTP → HTTPS 자동 업그레이드             │
│  6. 너무 큰 페이지는 요약될 수 있음 ⚠️        │
└─────────────────────────────────────────────┘
```

---

## 더 연습해보기

다음 요청들을 클로드 코드에게 직접 시도해보세요:

1. "위키피디아의 'Artificial Intelligence' 페이지에서 역사 부분만 정리해줘"
2. "GitHub의 클로드 코드 README에서 설치 방법을 찾아줘"
3. "MDN의 fetch API 문서에서 사용 예제를 정리해줘"
4. (실패 체험) "Google Docs 링크의 내용을 읽어줘" → 왜 실패하는지 확인!
