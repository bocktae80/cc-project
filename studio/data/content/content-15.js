window.STUDIO_CONTENT = window.STUDIO_CONTENT || {};
window.STUDIO_CONTENT["15-browser-automation"] = {
  overview: `## 브라우저 자동화 — Chrome을 AI 리모컨으로 조종하기

리모컨으로 TV를 조종하듯, 클로드가 **브라우저를 직접 조종**할 수 있어요!
채널 돌리기(페이지 이동), 볼륨 조절(폼 입력), 화면 캡처(스크린샷)까지 전부 가능합니다.

Chrome 확장(Extension)을 설치하면 클로드 CLI와 브라우저가 연결되어,
"이 페이지로 이동해", "이 버튼을 클릭해", "화면을 찍어줘" 같은 명령이 가능해져요.

### TV 리모컨 vs 브라우저 리모컨

\`\`\`
TV 리모컨                           브라우저 리모컨 (Claude)
───────────                         ─────────────────────────
채널 변경     → 페이지 이동 (navigate)
볼륨 조절     → 폼 입력 (type)
버튼 누르기   → 버튼 클릭 (click)
화면 녹화     → 스크린샷 / GIF 녹화
\`\`\`

### 핵심 학습 내용

| 개념 | 설명 | 비유 |
|------|------|------|
| Chrome 확장 | 브라우저와 CLI를 연결하는 다리 | 리모컨 적외선 센서 |
| navigate | 특정 URL로 페이지 이동 | 채널 변경 |
| click | 버튼/링크 클릭 | 리모컨 버튼 누르기 |
| type | 입력 필드에 텍스트 입력 | 검색어 입력 |
| screenshot | 현재 화면 캡처 | 화면 캡처 |
| GIF 녹화 | 동작 과정을 GIF로 기록 | 화면 녹화 |`,

  concepts: [
    {
      id: "chrome-extension-connection",
      title: "Chrome 확장과 연결 원리",
      content: `### 리모컨의 적외선 센서 = Chrome 확장

TV 리모컨이 적외선 센서를 통해 TV와 통신하듯,
Chrome 확장이 클로드 CLI와 브라우저 사이를 연결해줍니다.

\`\`\`
[사용자]                  [Claude CLI]              [Chrome 확장]           [Chrome 브라우저]
   |                         |                          |                        |
   | "이 페이지로 이동해"      |                          |                        |
   |───────────────────────>|                          |                        |
   |                         | WebSocket 연결            |                        |
   |                         |────────────────────────>|                        |
   |                         |                          | 명령 실행               |
   |                         |                          |──────────────────────>|
   |                         |                          |                        | 페이지 로드
   |                         |                          |<──────────────────────|
   |                         |<────────────────────────|                        |
   |<───────────────────────|                          |                        |
   | "페이지 이동 완료!"       |                          |                        |
\`\`\`

#### 설치 과정 요약

\`\`\`
1단계: Chrome 웹스토어에서 확장 설치
       ┌─────────────────────┐
       │  Claude Browser     │
       │  Extension          │
       │  [설치하기]          │
       └─────────────────────┘

2단계: CLI에서 브라우저 연결 확인
       > claude
       Browser extension detected!
       Connected to Chrome.

3단계: 명령 전달 가능!
       > "google.com으로 이동해줘"
\`\`\`

#### 연결 구조 비교

| 구성 요소 | TV 비유 | 브라우저 비유 |
|-----------|---------|-------------|
| 조종하는 사람 | 시청자 | 사용자 (Claude에 요청) |
| 리모컨 | TV 리모컨 | Claude CLI |
| 적외선 센서 | TV의 수신부 | Chrome 확장 |
| TV 화면 | TV 디스플레이 | Chrome 브라우저 |`
    },
    {
      id: "browser-capabilities",
      title: "할 수 있는 것들",
      content: `### 브라우저 리모컨의 버튼들

리모컨에 다양한 버튼이 있듯, 브라우저 자동화에도 여러 기능이 있어요.

#### 기능 목록

\`\`\`
[navigate]  페이지 이동        "https://example.com으로 가줘"
[click]     요소 클릭          "로그인 버튼을 클릭해줘"
[type]      텍스트 입력        "검색창에 'claude code'를 입력해줘"
[screenshot] 화면 캡처         "현재 화면을 스크린샷 찍어줘"
[evaluate]  JS 실행           "콘솔에서 document.title을 확인해줘"
[GIF 녹화]  동작 녹화          "이 과정을 GIF로 녹화해줘"
\`\`\`

#### 명령별 상세

| 명령 | 하는 일 | 비유 | 예시 |
|------|---------|------|------|
| navigate | URL로 이동 | 채널 변경 | "네이버로 이동해줘" |
| click | 버튼/링크 클릭 | 버튼 누르기 | "제출 버튼 클릭" |
| type | 입력 필드에 텍스트 | 검색어 입력 | "이름 필드에 '홍길동'" |
| screenshot | 화면 캡처 | 화면 사진 | "현재 페이지 캡처" |
| evaluate | JavaScript 실행 | 숨겨진 메뉴 | "콘솔 로그 확인" |
| GIF 녹화 | 동작을 GIF로 | 화면 녹화 | "폼 입력 과정 녹화" |

#### 할 수 있는 것 vs 없는 것

\`\`\`
할 수 있는 것 (O)                  할 수 없는 것 (X)
─────────────────                 ─────────────────
웹 페이지 탐색                     데스크톱 앱 조작
폼 입력 자동화                     다른 브라우저 (Firefox 등)
스크린샷 캡처                      브라우저 밖 파일 다운로드
콘솔 로그 읽기                     확장 프로그램 설치/관리
네트워크 요청 모니터링               시스템 설정 변경
GIF 녹화                          비밀번호 관리자 접근
\`\`\``
    },
    {
      id: "design-verification",
      title: "디자인 검증 워크플로우",
      content: `### 설계도와 건물 사진 비교하기

건축에서 설계도(디자인 시안)와 실제 건물(빌드 결과)을 비교하듯,
브라우저 자동화로 디자인과 구현 결과를 비교할 수 있어요.

\`\`\`
디자인 검증 워크플로우
═══════════════════════════════════════

[1] Figma 디자인 확인
    ┌──────────────────┐
    │  Figma 디자인     │
    │  (설계도)         │
    └────────┬─────────┘
             │ 디자인 속성 읽기
             v
[2] 코드 빌드
    ┌──────────────────┐
    │  HTML/CSS/JS     │
    │  (건물 짓기)      │
    └────────┬─────────┘
             │ 브라우저에서 열기
             v
[3] 스크린샷 캡처
    ┌──────────────────┐
    │  실제 화면 캡처    │
    │  (건물 사진)      │
    └────────┬─────────┘
             │ AI가 비교
             v
[4] 차이점 분석
    ┌──────────────────┐
    │  색상, 크기,      │
    │  레이아웃 차이 보고 │
    └──────────────────┘
\`\`\`

#### 비교 항목 예시

| 비교 항목 | Figma 디자인 | 실제 화면 | 결과 |
|-----------|-------------|----------|------|
| 버튼 색상 | #3B82F6 | #3B82F6 | 일치 |
| 폰트 크기 | 16px | 14px | 불일치 |
| 여백 | 24px | 24px | 일치 |
| 둥근 모서리 | 8px | 4px | 불일치 |

#### 콘솔 로그 & 네트워크 모니터링

\`\`\`
콘솔 로그 확인                    네트워크 모니터링
──────────────                   ─────────────────
"에러가 있나 확인해줘"              "API 요청이 정상인지 확인해줘"
    │                                │
    v                                v
Console:                         Network:
[ERROR] undefined variable       GET /api/users → 200 OK
[WARN] deprecated function       POST /api/login → 401 Error
                                 GET /api/data → 504 Timeout
\`\`\`

> 디자인 검증 + 에러 확인 + 네트워크 모니터링까지 한 번에!`
    }
  ],

  tutorials: [
    {
      id: "step-01",
      title: "Chrome 확장 설치 & 연결",
      content: `### 리모컨과 TV 연결하기

브라우저 자동화를 시작하려면 먼저 Chrome 확장을 설치하고 CLI와 연결해야 해요.
리모컨에 건전지를 넣고 TV와 페어링하는 것과 같아요!

#### 설치 순서

\`\`\`
1. Chrome 웹스토어 접속
   chrome.google.com/webstore

2. "Claude" 검색 → 확장 설치

3. 확장 아이콘 클릭 → 활성화

4. 터미널에서 Claude 실행
   → 자동으로 연결 확인!
\`\`\`

#### 연결 확인하기

\`\`\`bash
# Claude CLI를 실행하면 브라우저 연결 상태가 표시됩니다
claude

# 연결 성공 시:
# Browser extension detected!
# Connected to Chrome (version 120+)
\`\`\`

#### 문제 해결

| 문제 | 원인 | 해결 방법 |
|------|------|----------|
| 연결 안 됨 | 확장 비활성화 | 확장 관리에서 활성화 |
| 버전 오류 | Chrome 버전 낮음 | Chrome 업데이트 |
| 권한 오류 | 확장 권한 미허용 | 사이트 접근 권한 허용 |`,
      terminals: [
        {
          command: "# Chrome 확장 연결 확인",
          output: `> claude
Starting Claude Code...

Browser extension detected!
Connected to Chrome (version 125.0.6422.60)
Extension version: 1.2.0

Ready to control browser.
Type your request or use /help for commands.

>`
        },
        {
          command: "# 브라우저 상태 확인 요청",
          output: `> 현재 브라우저에 열려 있는 탭 정보를 알려줘

Claude: 현재 Chrome 브라우저 상태:

열린 탭:
  1. [활성] Google - https://www.google.com
  2. GitHub - https://github.com
  3. 새 탭

활성 탭: Google (https://www.google.com)
브라우저 버전: Chrome 125.0.6422.60

어떤 작업을 도와드릴까요?`
        }
      ]
    },
    {
      id: "step-02",
      title: "페이지 탐색 & 폼 자동 입력",
      content: `### 채널 돌리기 & 검색어 입력

TV에서 채널을 돌리듯 웹 페이지를 이동하고,
검색어를 입력하듯 폼 필드에 자동으로 텍스트를 입력할 수 있어요.

#### 페이지 이동 (navigate)

\`\`\`bash
# 자연어로 요청하면 됩니다
> "https://www.google.com으로 이동해줘"
> "네이버 메인 페이지로 가줘"
> "뒤로 가기 해줘"
\`\`\`

#### 클릭 (click)

\`\`\`bash
# 버튼이나 링크를 클릭
> "로그인 버튼을 클릭해줘"
> "검색 아이콘을 눌러줘"
> "메뉴에서 '설정'을 클릭해줘"
\`\`\`

#### 폼 입력 (type)

\`\`\`bash
# 입력 필드에 텍스트 작성
> "검색창에 'Claude Code tutorial'을 입력해줘"
> "이메일 필드에 'user@example.com' 입력하고
   비밀번호 필드에 'password123' 입력해줘"
\`\`\`

#### 자동화 시나리오 조합

\`\`\`
[시나리오: Google 검색]
1. navigate → google.com
2. type → 검색창에 "Claude Code"
3. click → "Google 검색" 버튼
4. screenshot → 검색 결과 캡처
\`\`\``,
      terminals: [
        {
          command: "# 페이지 이동 + 검색 자동화",
          output: `> google.com으로 이동해서 "Claude Code tutorial"을 검색해줘

Claude: 브라우저를 조작합니다...

1. google.com으로 이동 중...
   [완료] 페이지 로드 완료 (1.2s)

2. 검색창에 "Claude Code tutorial" 입력 중...
   [완료] 텍스트 입력 완료

3. 검색 버튼 클릭...
   [완료] 검색 실행됨

4. 검색 결과 페이지 로드...
   [완료] 약 1,234,000개의 결과

검색이 완료되었습니다. 스크린샷을 찍어드릴까요?`
        },
        {
          command: "# 폼 자동 입력 예시",
          output: `> 이 회원가입 폼에 다음 정보를 입력해줘:
  이름: 홍길동
  이메일: hong@example.com
  나이: 15

Claude: 폼 필드를 채웁니다...

1. 이름 필드 → "홍길동" 입력 [완료]
2. 이메일 필드 → "hong@example.com" 입력 [완료]
3. 나이 필드 → "15" 입력 [완료]

모든 필드가 입력되었습니다.
제출 버튼을 클릭할까요?`
        }
      ]
    },
    {
      id: "step-03",
      title: "콘솔 로그/네트워크 모니터링 & GIF 녹화",
      content: `### 브라우저 뒤에서 일어나는 일 확인하기

TV 뒤에 연결된 케이블을 확인하듯, 브라우저 뒤에서 일어나는
콘솔 로그와 네트워크 요청을 확인할 수 있어요.

#### 콘솔 로그 확인

\`\`\`bash
# 브라우저 콘솔의 에러/경고 확인
> "현재 페이지의 콘솔 에러를 확인해줘"

# JavaScript 실행
> "document.title 값이 뭔지 확인해줘"
\`\`\`

#### 네트워크 모니터링

\`\`\`bash
# API 요청/응답 확인
> "이 페이지가 어떤 API를 호출하는지 확인해줘"
> "네트워크 요청 중 실패한 것이 있는지 확인해줘"
\`\`\`

#### GIF 녹화

\`\`\`
GIF 녹화 흐름
═══════════════
[녹화 시작] → [동작 수행] → [녹화 종료] → [GIF 파일 저장]

활용 예시:
- 버그 재현 과정 기록
- UI 인터랙션 데모 만들기
- 코드 리뷰에 동작 증거 첨부
\`\`\`

#### 콘솔 + 네트워크 + 스크린샷 조합

\`\`\`
[종합 디버깅 시나리오]

1. 페이지 이동
2. 콘솔 에러 확인 → 에러 있으면 보고
3. 네트워크 요청 확인 → 실패한 요청 보고
4. 스크린샷 → 현재 상태 캡처
5. 종합 보고서 작성
\`\`\``,
      terminals: [
        {
          command: "# 콘솔 로그 + 네트워크 종합 확인",
          output: `> 현재 페이지의 콘솔 에러와 네트워크 상태를 확인해줘

Claude: 브라우저를 분석합니다...

=== 콘솔 로그 ===
[ERROR] Uncaught TypeError: Cannot read property
        'length' of undefined (app.js:142)
[WARN]  React key warning in UserList component
[LOG]   App initialized successfully

=== 네트워크 요청 ===
GET  /api/users     → 200 OK (45ms)
GET  /api/settings  → 200 OK (32ms)
POST /api/analytics → 403 Forbidden (12ms)
GET  /api/posts     → 504 Gateway Timeout (30000ms)

=== 요약 ===
- 콘솔 에러 1건 (TypeError)
- 네트워크 실패 2건 (403, 504)
- 권장: app.js:142의 null 체크 추가,
  analytics API 인증 확인, posts API 타임아웃 처리`
        },
        {
          command: "# GIF 녹화 예시",
          output: `> 이 로그인 폼에 입력하는 과정을 GIF로 녹화해줘

Claude: GIF 녹화를 시작합니다...

[녹화 시작]
  프레임 1: 빈 로그인 폼
  프레임 2: 이메일 입력 중...
  프레임 3: 비밀번호 입력 중...
  프레임 4: 로그인 버튼 클릭
  프레임 5: 대시보드 페이지 로드
[녹화 종료]

GIF 저장 완료: ./screenshots/login-flow.gif
크기: 1.2MB, 해상도: 1280x720, 프레임: 24

> 파일 경로: /Users/user/project/screenshots/login-flow.gif`
        }
      ]
    }
  ],

  examples: [
    {
      id: "login-automation",
      title: "로그인 폼 자동화 시나리오",
      content: `### 로그인 폼을 자동으로 채우고 제출하기

개발 중인 웹 앱의 로그인 폼을 자동으로 테스트하는 시나리오입니다.

#### 시나리오 흐름

\`\`\`
[1단계] 로그인 페이지 이동
> "localhost:3000/login으로 이동해줘"

[2단계] 폼 입력
> "이메일에 test@example.com,
   비밀번호에 TestPass123을 입력해줘"

[3단계] 제출
> "로그인 버튼을 클릭해줘"

[4단계] 결과 확인
> "로그인 성공했는지 확인하고 스크린샷을 찍어줘"

[5단계] 에러 케이스 테스트
> "잘못된 비밀번호로 다시 로그인 시도해줘.
   에러 메시지가 제대로 나오는지 확인해줘"
\`\`\`

#### 전체 요청 예시

\`\`\`bash
> localhost:3000/login으로 이동해서
  test@example.com / TestPass123으로 로그인하고,
  성공하면 대시보드 스크린샷을 찍어줘.
  실패하면 에러 메시지를 알려줘.
\`\`\`

> **팁**: 여러 계정으로 반복 테스트하거나, 에러 케이스를 자동으로 확인할 때 유용해요!`,
      checklist: [
        "브라우저에서 특정 URL로 이동할 수 있다",
        "폼 필드에 자동으로 값을 입력할 수 있다",
        "버튼 클릭으로 폼을 제출할 수 있다",
        "로그인 성공/실패를 스크린샷으로 확인할 수 있다"
      ]
    },
    {
      id: "screenshot-comparison",
      title: "빌드 결과 스크린샷 비교",
      content: `### 디자인 시안 vs 실제 화면 비교

Figma 디자인(12번에서 배운 것)과 실제 빌드 결과를 비교하는 실전 워크플로우입니다.

#### 비교 워크플로우

\`\`\`
[Step 1] 빌드 & 서버 실행
> "npm run build를 실행하고 localhost:3000을 열어줘"

[Step 2] 스크린샷 캡처
> "메인 페이지의 스크린샷을 찍어줘"

[Step 3] 디자인과 비교
> "이 스크린샷을 Figma 디자인과 비교해줘.
   색상, 폰트, 간격 차이를 알려줘."

[Step 4] 반응형 확인
> "모바일(375px) 크기로 화면을 조정하고
   스크린샷을 찍어줘"
\`\`\`

#### 비교 보고서 예시

\`\`\`
=== 디자인 vs 구현 비교 보고서 ===

일치 항목 (12/15):
  [O] 헤더 배경색 (#1F2937)
  [O] 로고 위치 (좌상단)
  [O] 메인 텍스트 폰트 (Inter)
  ...

불일치 항목 (3/15):
  [X] 버튼 둥근 모서리: 디자인 8px → 실제 4px
  [X] 카드 그림자: 디자인 있음 → 실제 없음
  [X] 모바일 여백: 디자인 16px → 실제 8px

일치율: 80% (12/15)
\`\`\`

#### 반응형 테스트 사이즈

| 기기 | 가로 크기 | 테스트 포인트 |
|------|----------|-------------|
| 모바일 | 375px | 레이아웃, 폰트 크기 |
| 태블릿 | 768px | 그리드, 사이드바 |
| 데스크톱 | 1440px | 전체 레이아웃 |

> **팁**: 배포 전 3가지 크기로 스크린샷을 찍으면 반응형 이슈를 미리 잡을 수 있어요!`,
      checklist: [
        "빌드 결과를 브라우저에서 스크린샷 찍을 수 있다",
        "디자인 시안과 실제 화면의 차이를 분석할 수 있다",
        "반응형 화면 크기를 변경해서 테스트할 수 있다",
        "비교 보고서를 요청할 수 있다"
      ]
    }
  ],

  quiz: [
    {
      question: "Chrome 확장이 브라우저 자동화에서 하는 역할은?",
      options: [
        "웹 페이지를 더 빠르게 로드한다",
        "Claude CLI와 Chrome 브라우저 사이를 연결하는 다리 역할을 한다",
        "Chrome 브라우저를 자동 업데이트한다"
      ],
      answer: 1,
      explanation: "Chrome 확장은 리모컨의 적외선 센서처럼, Claude CLI의 명령을 브라우저에 전달하고 결과를 돌려주는 다리(통역관) 역할을 합니다."
    },
    {
      question: "브라우저 자동화로 할 수 없는 것은?",
      options: [
        "웹 페이지에서 폼을 자동으로 입력하기",
        "데스크톱 앱(예: 워드, 엑셀)을 조작하기",
        "현재 화면을 스크린샷으로 캡처하기"
      ],
      answer: 1,
      explanation: "브라우저 자동화는 Chrome 브라우저 안에서만 동작합니다. 데스크톱 앱이나 다른 브라우저(Firefox 등)는 조작할 수 없어요."
    },
    {
      question: "디자인 검증 워크플로우의 올바른 순서는?",
      options: [
        "스크린샷 → 빌드 → 디자인 확인 → 비교",
        "디자인 확인 → 코드 빌드 → 스크린샷 캡처 → 차이 분석",
        "코드 빌드 → 디자인 확인 → 차이 분석 → 스크린샷"
      ],
      answer: 1,
      explanation: "올바른 순서: Figma 디자인 확인 → 코드 빌드 → 브라우저에서 스크린샷 캡처 → AI가 디자인과 실제 화면 차이 분석. 설계도 먼저, 건물 다음, 비교 마지막!"
    },
    {
      question: "콘솔 로그 확인이 유용한 상황은?",
      options: [
        "페이지 디자인이 마음에 들지 않을 때",
        "JavaScript 에러나 경고를 찾아서 디버깅할 때",
        "인터넷 속도를 측정할 때"
      ],
      answer: 1,
      explanation: "콘솔 로그에는 JavaScript 에러, 경고, 디버그 메시지가 표시됩니다. 페이지가 제대로 동작하지 않을 때 원인을 찾는 데 매우 유용해요."
    },
    {
      question: "GIF 녹화 기능의 가장 좋은 활용법은?",
      options: [
        "웹 페이지의 로딩 속도를 측정하기",
        "버그 재현 과정이나 UI 인터랙션을 기록으로 남기기",
        "큰 파일을 작게 압축하기"
      ],
      answer: 1,
      explanation: "GIF 녹화는 버그가 어떻게 발생하는지 과정을 기록하거나, UI 동작 데모를 만들 때 유용합니다. 코드 리뷰에 '동작 증거'를 첨부할 수도 있어요."
    }
  ]
};
