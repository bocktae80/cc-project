window.STUDIO_CONTENT = window.STUDIO_CONTENT || {};
window.STUDIO_CONTENT["01-memory-system"] = {
  overview: `# 메모리 시스템

클로드 코드는 대화가 끝나면 내용을 잊어버립니다. 하지만 **메모리 시스템**을 사용하면 중요한 정보를 기억하게 만들 수 있어요.

## 왜 필요할까?

매번 "한국어로 답해줘", "코드 스타일은 이렇게 해줘"라고 말하는 건 너무 번거롭죠?
\`CLAUDE.md\` 파일에 적어두면 클로드가 자동으로 읽어서 기억합니다.

## 메모리 종류

| 종류 | 비유 | 누가 쓰나 | 범위 |
|------|------|-----------|------|
| **프로젝트 메모리** | 교실 게시판 | 개발자 | 팀 전체 |
| **로컬 메모리** | 개인 서랍 | 개발자 | 나만 |
| **유저 메모리** | 항상 갖고 다니는 노트 | 개발자 | 모든 프로젝트 |
| **자동 메모리** | 클로드의 일기장 | 클로드 | 자동 |
| **에이전트 메모리** | 조수의 업무 노트 | 서브에이전트 | 설정에 따라 |

> 핵심: **가까운 설정이 먼 설정보다 우선**합니다. 프로젝트 > 로컬 > 유저 순으로 덮어씁니다.`,

  concepts: [
    {
      id: "claude-md",
      title: "CLAUDE.md 파일",
      content: `## CLAUDE.md란?

**CLAUDE.md**는 클로드 코드에게 주는 "지시서"입니다.

### 교실 게시판 비유

교실에 게시판이 있다고 상상해보세요:
- 선생님이 **"수업 규칙"**을 게시판에 붙여놓으면
- 모든 학생이 그 규칙을 따르죠?

\`CLAUDE.md\`도 똑같아요:
- 개발자가 **프로젝트 규칙**을 파일에 적어놓으면
- 클로드가 그 규칙을 자동으로 따릅니다!

### 어디에 만들까?

\`\`\`
프로젝트-폴더/
├── CLAUDE.md          <-- 여기! 프로젝트 루트에 만듭니다
├── src/
├── package.json
└── ...
\`\`\`

### 뭘 적으면 될까?

\`\`\`markdown
# 프로젝트 규칙

- 한국어로 답변해주세요
- TypeScript를 사용합니다
- 테스트 파일은 __tests__ 폴더에 넣어주세요
- 커밋 메시지는 한글로 작성합니다
\`\`\`

### 커맨드

| 커맨드 | 설명 |
|--------|------|
| \`/init\` | CLAUDE.md를 자동 생성해줍니다 |
| \`/memory\` | 메모리 파일을 에디터에서 열어줍니다 |`
    },
    {
      id: "memory-hierarchy",
      title: "메모리 계층 구조",
      content: `## 메모리 계층이란?

클로드 코드의 메모리는 **3층짜리 건물**처럼 구성되어 있어요.

### 3층 건물 비유

\`\`\`
3층 (가장 넓은 범위)
┌──────────────────────────────────┐
│  유저 메모리 (~/.claude/CLAUDE.md)  │
│  "항상 갖고 다니는 노트"             │
│  → 모든 프로젝트에 적용               │
└──────────────────────────────────┘

2층 (중간 범위)
┌──────────────────────────────────┐
│  로컬 메모리 (CLAUDE.local.md)      │
│  "개인 서랍 속 메모"                 │
│  → 이 프로젝트에서 나만 적용          │
└──────────────────────────────────┘

1층 (가장 좁은 범위, 가장 높은 우선순위!)
┌──────────────────────────────────┐
│  프로젝트 메모리 (CLAUDE.md)        │
│  "교실 게시판"                      │
│  → 이 프로젝트에서 팀 전체 적용       │
└──────────────────────────────────┘
\`\`\`

### 우선순위 규칙

같은 내용이 여러 곳에 있으면? **가까운 것이 우선**입니다!

| 우선순위 | 파일 | 범위 |
|---------|------|------|
| 1 (최우선) | \`./CLAUDE.md\` | 현재 프로젝트 |
| 2 | \`../CLAUDE.md\` | 상위 폴더 |
| 3 | \`~/.claude/CLAUDE.md\` | 모든 프로젝트 |

> 예: 프로젝트 CLAUDE.md에 "한국어로"라고 썼고, 유저 CLAUDE.md에 "영어로"라고 쓰면 → **한국어**가 적용됩니다!

### 파일 비교

| 파일 | git에 포함? | 용도 |
|------|------------|------|
| \`CLAUDE.md\` | O (팀 공유) | 프로젝트 규칙, 컨벤션 |
| \`CLAUDE.local.md\` | X (나만 사용) | 개인 설정, 로컬 URL |
| \`~/.claude/CLAUDE.md\` | X | 개인 스타일, 선호 설정 |`
    },
    {
      id: "auto-memory",
      title: "자동 메모리",
      content: `## 자동 메모리란?

사람이 직접 쓰는 메모리 말고, **클로드가 알아서 기록하는 메모리**도 있어요!

### 일기장 비유

여러분이 매일 일기를 쓴다고 생각해보세요:
- 오늘 뭘 했는지
- 어떤 문제를 겪었는지
- 어떻게 해결했는지

클로드도 비슷하게 대화 내용을 자동으로 정리해서 저장합니다.

### 어떻게 동작하나?

1. 클로드와 대화를 합니다
2. 대화가 끝나면, 클로드가 중요한 내용을 요약합니다
3. 다음 대화를 시작할 때, 이전 요약을 자동으로 불러옵니다

\`\`\`
세션 1: "이 프로젝트는 React를 사용해"
  ↓ (클로드가 기억)
세션 2: 클로드가 React 문법으로 코드를 작성!
\`\`\`

### 저장 위치

\`\`\`
~/.claude/projects/
└── {프로젝트-해시}/
    └── memory.json    <-- 여기에 자동 저장!
\`\`\`

### 수동 메모리 vs 자동 메모리

| 구분 | 수동 메모리 | 자동 메모리 |
|------|-----------|-----------|
| 누가 쓰나 | 개발자(나) | 클로드 |
| 제어 가능 | O (직접 편집) | 제한적 |
| 내용 | 규칙, 컨벤션 | 대화 맥락, 패턴 |
| 신뢰도 | 높음 (내가 쓴 것) | 보통 (자동 요약) |

> 팁: 중요한 규칙은 반드시 \`CLAUDE.md\`에 직접 적으세요. 자동 메모리만 의존하면 정확하지 않을 수 있어요!`
    }
  ],

  tutorials: [
    {
      id: "step-01",
      title: "CLAUDE.md 만들기",
      content: `## 첫 번째 CLAUDE.md 만들기

프로젝트에 CLAUDE.md를 만들어서 클로드에게 규칙을 알려주는 실습입니다.

### 목표
- CLAUDE.md 파일을 생성합니다
- 간단한 규칙을 적어봅니다
- 클로드가 규칙을 따르는지 확인합니다

### 따라하기

**1단계:** 프로젝트 폴더에서 클로드 코드를 시작합니다.

**2단계:** 클로드에게 CLAUDE.md를 만들어달라고 합니다.

**3단계:** 규칙이 적용되는지 확인합니다.`,
      terminals: [
        {
          command: "cd my-project && claude",
          output: `╭──────────────────────────────────╮
│   Claude Code v2.1.50            │
│                                  │
│   /help for commands             │
╰──────────────────────────────────╯

> 무엇을 도와드릴까요?`
        },
        {
          command: '사용자: "이 프로젝트에 CLAUDE.md를 만들어줘. 규칙: 한국어로 답변, TypeScript 사용"',
          output: `CLAUDE.md 파일을 생성하겠습니다.

📝 Write: ./CLAUDE.md
---
# 프로젝트 규칙

- 한국어로 답변해주세요
- TypeScript를 사용합니다
- 코드 주석도 한국어로 작성합니다
---

✅ CLAUDE.md가 생성되었습니다!
이제부터 이 프로젝트에서 위 규칙을 따르겠습니다.`
        },
        {
          command: '사용자: "hello 함수를 만들어줘"',
          output: `// 인사 메시지를 반환하는 함수입니다
function hello(name: string): string {
  return \`안녕하세요, \${name}님!\`;
}

→ TypeScript로 작성하고, 주석도 한국어!
  CLAUDE.md의 규칙이 적용된 것을 확인할 수 있습니다.`
        }
      ]
    },
    {
      id: "step-02",
      title: "메모리 계층 실험하기",
      content: `## 메모리 우선순위 직접 확인하기

여러 CLAUDE.md를 만들어서 어떤 것이 우선하는지 확인하는 실험입니다.

### 목표
- 프로젝트 메모리와 유저 메모리를 동시에 설정합니다
- 어떤 것이 우선 적용되는지 확인합니다

### 실험 설계

유저 메모리에는 "영어로 답변"을, 프로젝트 메모리에는 "한국어로 답변"을 적고, 어떤 것이 이기는지 봅니다.`,
      terminals: [
        {
          command: "cat ~/.claude/CLAUDE.md",
          output: `# 유저 메모리 (모든 프로젝트에 적용)

- 영어로 답변해주세요
- 코드 주석은 영어로 작성`
        },
        {
          command: "cat ./CLAUDE.md",
          output: `# 프로젝트 메모리 (이 프로젝트에만 적용)

- 한국어로 답변해주세요
- 코드 주석은 한국어로 작성`
        },
        {
          command: '사용자: "add 함수를 만들어줘"',
          output: `// 두 숫자를 더하는 함수입니다  ← 한국어!
function add(a: number, b: number): number {
  return a + b;
}

→ 프로젝트 메모리(CLAUDE.md)가 유저 메모리보다 우선!
  "가까운 설정이 이긴다"는 원칙이 확인되었습니다.`
        }
      ]
    },
    {
      id: "step-03",
      title: "/init으로 자동 생성하기",
      content: `## /init 커맨드로 CLAUDE.md 자동 생성

직접 쓰기 번거로우면 \`/init\` 커맨드로 자동 생성할 수 있습니다.

### 목표
- /init 커맨드의 동작을 이해합니다
- 자동 생성된 CLAUDE.md를 확인합니다

### 따라하기

클로드 코드 안에서 \`/init\`을 입력하면 프로젝트 구조를 분석해서 CLAUDE.md를 만들어줍니다.`,
      terminals: [
        {
          command: "/init",
          output: `🔍 프로젝트 구조를 분석 중...

감지된 정보:
- 언어: TypeScript
- 프레임워크: React
- 패키지 매니저: npm
- 테스트: Jest

📝 CLAUDE.md를 생성했습니다!`
        },
        {
          command: "cat CLAUDE.md",
          output: `# 프로젝트 가이드

## 기술 스택
- TypeScript + React
- 패키지 매니저: npm
- 테스트: Jest

## 컨벤션
- 컴포넌트는 PascalCase로 명명
- 테스트 파일은 *.test.tsx
- styled-components 사용

## 프로젝트 구조
src/
├── components/   # React 컴포넌트
├── hooks/        # 커스텀 훅
├── utils/        # 유틸리티 함수
└── types/        # TypeScript 타입`
        }
      ]
    }
  ],

  examples: [
    {
      id: "practical-claudemd",
      title: "실전 CLAUDE.md 작성하기",
      content: `## 좋은 CLAUDE.md의 조건

CLAUDE.md를 잘 쓰면 클로드가 여러분의 프로젝트를 훨씬 잘 이해합니다.

### 좋은 예시

\`\`\`markdown
# MyApp 프로젝트

## 기술 스택
- TypeScript (strict 모드)
- React 19 + Next.js 15
- Tailwind CSS

## 규칙
- 한국어로 답변
- 새 파일은 kebab-case (예: my-component.tsx)
- 컴포넌트는 export default 사용
- API 호출은 /lib/api.ts에 모아둘 것

## 프로젝트 구조
src/
├── app/          # Next.js App Router
├── components/   # UI 컴포넌트
├── lib/          # 유틸리티, API
└── types/        # 공통 타입
\`\`\`

### 나쁜 예시

\`\`\`markdown
잘 부탁해요~
코드 잘 짜주세요!
\`\`\`

> 구체적일수록 클로드가 정확하게 동작합니다!`,
      checklist: [
        "기술 스택(언어, 프레임워크)을 명시했는가?",
        "코드 컨벤션(네이밍, 스타일)을 정의했는가?",
        "프로젝트 구조를 설명했는가?",
        "팀원 모두가 이해할 수 있는 규칙인가?"
      ]
    },
    {
      id: "memory-debug",
      title: "메모리 문제 해결하기",
      content: `## 메모리가 안 먹힐 때

CLAUDE.md를 만들었는데 클로드가 규칙을 안 따른다면?

### 체크포인트

1. **파일 위치 확인**: CLAUDE.md가 프로젝트 루트에 있는지?
2. **파일명 확인**: \`CLAUDE.md\` (대소문자 정확히!)
3. **문법 확인**: 마크다운 문법이 깨지지 않았는지?
4. **충돌 확인**: 상위 폴더의 CLAUDE.md와 규칙이 충돌하는지?

### 디버깅 방법

클로드에게 직접 물어보는 것이 가장 빠릅니다:

\`\`\`
"지금 어떤 CLAUDE.md 파일을 읽고 있어?"
"현재 적용된 규칙을 알려줘"
\`\`\`

### 자주 하는 실수

| 실수 | 해결 |
|------|------|
| 파일명 오타 (\`claude.md\`) | \`CLAUDE.md\` (대문자!) |
| 잘못된 위치 (src/ 안에 넣음) | 프로젝트 루트에 놓기 |
| 너무 긴 CLAUDE.md (1000줄+) | 핵심만 간결하게, 규칙 파일 분리 |`,
      checklist: [
        "CLAUDE.md 파일명의 대소문자가 정확한가?",
        "파일이 프로젝트 루트 디렉토리에 있는가?",
        "마크다운 문법이 올바른가?",
        "상위/하위 폴더 간 규칙 충돌이 없는가?"
      ]
    }
  ],

  quiz: [
    {
      question: "CLAUDE.md 파일의 역할은 무엇인가요?",
      options: [
        "클로드에게 프로젝트 규칙과 컨텍스트를 알려주는 지시서",
        "클로드의 소스 코드를 저장하는 파일",
        "프로젝트의 README 파일과 같은 문서"
      ],
      answer: 0,
      explanation: "CLAUDE.md는 클로드 코드에게 프로젝트 규칙, 코드 컨벤션, 프로젝트 구조 등을 알려주는 지시서입니다. 클로드가 세션을 시작할 때 자동으로 읽어서 규칙을 따릅니다."
    },
    {
      question: "프로젝트 CLAUDE.md에 '한국어로 답변'이라고 쓰고, 유저 CLAUDE.md에 '영어로 답변'이라고 쓰면 어떻게 될까요?",
      options: [
        "영어로 답변 (유저 메모리가 더 높으니까)",
        "한국어로 답변 (가까운 설정이 우선이니까)",
        "에러가 발생한다"
      ],
      answer: 1,
      explanation: "클로드 코드의 메모리 우선순위는 '가까운 것이 우선'입니다. 프로젝트 폴더의 CLAUDE.md가 유저 홈의 CLAUDE.md보다 가깝기 때문에 한국어가 적용됩니다."
    },
    {
      question: "CLAUDE.local.md 파일의 특징으로 올바른 것은?",
      options: [
        "팀원 모두가 공유하는 파일이다",
        "git에 포함되지 않아 나만 사용하는 개인 설정 파일이다",
        "클로드가 자동으로 생성하는 파일이다"
      ],
      answer: 1,
      explanation: "CLAUDE.local.md는 git에 포함되지 않는 개인용 설정 파일입니다. 개인 서랍 속 메모처럼 나만 사용하는 로컬 설정(개인 API URL, 선호 설정 등)을 적어둡니다."
    },
    {
      question: "자동 메모리와 수동 메모리(CLAUDE.md)의 차이점은?",
      options: [
        "자동 메모리가 항상 우선 적용된다",
        "자동 메모리는 클로드가 대화 내용을 요약해 저장하고, 수동 메모리는 개발자가 직접 작성한다",
        "자동 메모리는 파일로 저장되지 않는다"
      ],
      answer: 1,
      explanation: "수동 메모리(CLAUDE.md)는 개발자가 직접 규칙을 적는 것이고, 자동 메모리는 클로드가 대화 내용을 스스로 요약해서 저장하는 것입니다. 중요한 규칙은 반드시 수동 메모리에 적는 것이 좋습니다."
    },
    {
      question: "CLAUDE.md를 자동으로 생성해주는 커맨드는?",
      options: [
        "/memory",
        "/init",
        "/create"
      ],
      answer: 1,
      explanation: "/init 커맨드를 사용하면 클로드가 프로젝트 구조를 분석해서 적절한 CLAUDE.md를 자동으로 생성해줍니다. /memory는 이미 있는 메모리 파일을 에디터로 여는 커맨드입니다."
    }
  ]
};
