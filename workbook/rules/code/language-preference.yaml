# Language Preference Rule
# 기술 스택 기본값

id: language-preference-001
name: 기술 스택 기본값
description: |
  워크스페이스 전체의 기술 스택 기본값을 정의합니다.
  하위 프로젝트에서 오버라이드 가능합니다.

category: code/language-preference
tags:
  - language
  - typescript
  - stack
  - workspace

severity: warning

rules:
  primary-language:
    description: "주 언어"
    items:
      - TypeScript 우선 사용
      - strict mode 활성화 (tsconfig.json)
      - ESM (ES Modules) 사용, CommonJS 지양

  secondary-language:
    description: "보조 언어"
    items:
      - Python은 스크립트, 데이터 처리, ML 작업에 사용
      - Python 사용 시 type hints 권장

  module-system:
    description: "모듈 시스템"
    items:
      - "import/export (ESM) 사용"
      - "require/module.exports (CJS) 지양"
      - "package.json에 \"type\": \"module\" 설정"

  documentation-language:
    description: "문서 언어"
    items:
      - 문서(README, 가이드 등)는 한국어 마크다운으로 작성
      - API 문서는 JSDoc/TSDoc 형식, 영어 허용
      - 인라인 주석은 한국어, 복잡한 로직에만 작성

examples:
  good:
    - |
      // tsconfig.json
      {
        "compilerOptions": {
          "strict": true,
          "module": "ESNext",
          "moduleResolution": "bundler"
        }
      }
    - |
      // ESM import
      import { UserService } from './user-service.js';
      export function createUser() { }
    - |
      // package.json
      { "type": "module" }
  bad:
    - |
      // CJS 사용
      const { UserService } = require('./user-service');
      module.exports = { createUser };
    - |
      // strict mode 비활성화
      { "compilerOptions": { "strict": false } }
    - "새 프로젝트를 JavaScript로 시작"

exceptions:
  - 기존 CJS 프로젝트의 점진적 마이그레이션 중
  - CJS만 지원하는 도구/프레임워크 설정 파일
  - 하위 프로젝트가 다른 언어를 주 언어로 지정한 경우

created: "2025-02-05T00:00:00Z"
updated: "2025-02-05T00:00:00Z"
scope: workspace
enabled: true

metadata:
  version: "1.0.0"
  status: active
  author: "@kent"
  source: builtin

conditions:
  filePatterns:
    - "**/*.ts"
    - "**/*.tsx"
    - "**/*.js"
    - "**/*.jsx"
    - "**/*.mjs"
    - "**/*.mts"
  excludePatterns:
    - "**/node_modules/**"
    - "**/dist/**"
    - "**/.next/**"

platforms:
  cursor:
    enabled: true
    includeInRules: true
  claude:
    enabled: true
