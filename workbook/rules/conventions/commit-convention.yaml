# Commit Convention Rule
# 커밋 메시지 컨벤션

id: commit-convention-001
name: 커밋 메시지 컨벤션
description: |
  커밋 메시지 작성 규칙. 타입/스코프는 영문, 제목/본문/푸터는 한글로 작성한다.
  Conventional Commits 형식을 기반으로 하되, 설명 부분은 한국어로 작성하여
  팀 내 가독성과 커뮤니케이션을 높인다.

category: conventions/commit
tags:
  - commit
  - git
  - convention
  - message

severity: error

claude_summary:
  - "**형식**: `<타입>(<스코프>): <한글 설명>` (스코프 선택)"
  - "**언어**: 타입/스코프만 영문, 제목/본문/푸터는 한글"
  - "**제목**: 50자 이내, 마침표 금지"
  - "**본문**: '왜' 중심으로 설명, 72자 줄바꿈"

rules:
  types:
    description: "허용되는 커밋 타입"
    items:
      - "feat: 새로운 기능 추가"
      - "fix: 버그 수정"
      - "refactor: 기능 변경 없는 코드 개선"
      - "docs: 문서 변경"
      - "style: 코드 포맷팅, 세미콜론 등 (기능 변경 X)"
      - "test: 테스트 추가/수정"
      - "chore: 빌드, 설정, 패키지 등 잡일"
      - "perf: 성능 개선"
      - "ci: CI/CD 설정 변경"
      - "build: 빌드 시스템, 외부 의존성 변경"
      - "revert: 이전 커밋 되돌리기"

  subject:
    description: "제목 작성 규칙"
    items:
      - "형식: <타입>(<스코프>): <한글 설명>"
      - 스코프는 선택 사항 (영문 소문자)
      - 한글 설명은 50자 이내
      - 마침표로 끝내지 않음
      - 명령형 또는 서술형 사용
      - "마일스톤/워크아이템 참조 시 번호(M10-01) 대신 타이틀이나 내용을 기입"

  body:
    description: "본문 작성 규칙"
    items:
      - 한글로 작성
      - 72자마다 줄바꿈
      - "'무엇을' 바꿨는지가 아니라 '왜' 바꿨는지를 설명"
      - 제목과 본문 사이에 빈 줄 하나

  footer:
    description: "푸터 작성 규칙"
    items:
      - "BREAKING CHANGE: 호환성 깨지는 변경 시 명시"
      - "Co-Authored-By: 공동 작성자 표기"
      - "Refs: 관련 이슈/티켓 번호"

examples:
  good:
    - "feat(auth): 소셜 로그인 기능 추가"
    - "fix: 장바구니 수량 계산 오류 수정"
    - "feat(artifacts): 산출물 완전성 달성 — ArtifactTracker + 문서 + 테스트"
    - "fix(plan): 워크아이템 상태 표기 명확화 — 프로그레스 바는 마일스톤 전용"
    - |
      refactor(api): 인증 미들웨어 구조 개선

      기존 콜백 기반 미들웨어를 async/await로 전환하여
      에러 처리 흐름을 단순화함.

      Refs: #142
    - |
      feat(ui): 다크모드 지원

      사용자 시스템 설정에 따라 자동 전환되며,
      수동 토글도 가능하도록 구현.

      BREAKING CHANGE: ThemeProvider 인터페이스 변경
    - "docs: API 엔드포인트 문서 갱신"
    - "test(cart): 할인 쿠폰 적용 시나리오 테스트 추가"
    - "chore: ESLint 설정 업데이트"
  bad:
    - "fix a bug (영어 제목)"
    - "feat(auth): 소셜 로그인 기능 추가. (마침표 사용)"
    - "updated code (타입 누락, 영어 사용)"
    - "feat: Added social login feature (영어 제목)"
    - "수정함 (타입 누락)"
    - "feat(M10-01): 타입 정의 (번호만으로는 내용 파악 불가)"

exceptions:
  - Co-Authored-By 라인은 영문 유지
  - 오픈소스 기여 등 영문 커밋이 필요한 경우 예외 허용
  - 사용자가 명시적으로 영문 커밋을 요청한 경우

created: "2025-02-13T00:00:00Z"
updated: "2025-02-13T00:00:00Z"
scope: workspace
enabled: true

metadata:
  version: "1.1.0"
  status: active
  author: "@kent"
  source: builtin

platforms:
  cursor:
    enabled: true
    includeInRules: true
  claude:
    enabled: true
