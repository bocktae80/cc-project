# 06 — Hooks (~5분)

> Hook: 클로드에게 자동 백업 안전장치를 달아보자!

---

## 1. Hook (30초)

[화면] 클로드가 중요한 파일을 수정하려는 상황

[나레이션]
클로드가 실수로 중요한 설정 파일을 바꿔버린다면?
.env 파일을 건드린다면?

[화면] ⚠️ 위험 표시

[나레이션]
걱정 마세요! **Hooks**를 설정하면
클로드가 파일을 건드리기 **전에** 자동으로 체크하거나,
특정 파일 수정을 **차단**할 수 있어요!

---

## 2. Concept (1분 30초)

[전환] 교실 문 센서 비유

[화면] 교실 문 센서 다이어그램
```
🚪 교실 문 = 도구 실행
📡 센서 = Hook

문이 열릴 때 (PreToolUse)  → 🔔 자동으로 불 켜짐
문이 닫힐 때 (PostToolUse) → 🔔 자동으로 에어컨 꺼짐
```

[나레이션]
교실 문에 센서가 달려 있다고 상상해보세요.
문이 열리면 불이 켜지고, 닫히면 에어컨이 꺼지죠?

Hook도 마찬가지예요!
클로드가 도구를 **사용하기 전**과 **사용한 후**에 자동으로 실행되는 센서입니다.

[전환] exit code 설명

[화면] exit code 비교
```
exit 0 = ✅ "통과! 진행해도 돼"
exit 2 = 🚫 "차단! 이건 안 돼"
```

[나레이션]
PreToolUse 훅에서 **exit 0**이면 허용,
**exit 2**이면 차단이에요.
이걸로 특정 파일 수정을 막을 수 있습니다!

---

## 3. Demo (2분)

### 데모 1: 알림 훅

[화면] settings.json 파일

[나레이션]
먼저 가장 간단한 훅! Write 도구를 사용할 때 메시지를 보여주는 훅이에요.

[화면] settings.json 내용
```json
{
  "hooks": {
    "PreToolUse": [{
      "matcher": "Write",
      "hook": "echo '📝 파일이 작성됩니다!'"
    }]
  }
}
```

[행동] 클로드에게 "새 파일 만들어줘" 입력

[화면] "📝 파일이 작성됩니다!" 메시지 표시 후 파일 생성

### 데모 2: 가드 훅

[나레이션]
이번엔 중요한 파일을 지키는 가드 훅!

[화면] guard.sh 파일 내용

[나레이션]
important.txt라는 파일을 수정하려고 하면...

[행동] "important.txt를 수정해줘" 입력

[화면] "🚫 important.txt는 수정할 수 없습니다!" 메시지와 함께 차단

[강조] exit 2로 차단!

[나레이션]
가드 훅이 수정을 차단했어요! 중요한 파일이 안전합니다.

---

## 4. Recap (30초)

[전환] 요약 화면

[나레이션]
오늘 배운 것!

1️⃣ **Hook** = 도구 사용 전후에 자동 실행되는 스크립트
2️⃣ **PreToolUse** = 사용 전 실행 (차단 가능!)
3️⃣ **exit 0** = 허용, **exit 2** = 차단
4️⃣ 설정은 `.claude/settings.json`

[화면] 다음 편 예고 — "07편: 슬랙, 깃허브를 직접 다룬다면?"

[나레이션]
다음 편에서는 클로드에게 외부 도구를 연결하는 MCP 서버를 알아봅니다!
